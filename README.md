# Sistema de N√≥mina - Frontend\n\n## Descripci√≥n\nFrontend desarrollado en Angular 19 para el sistema de gesti√≥n de n√≥mina. Incluye autenticaci√≥n, gesti√≥n de empleados, puestos, conceptos de n√≥mina y generaci√≥n de reportes.\n\n## Caracter√≠sticas Principales\n\n### üîê Autenticaci√≥n y Autorizaci√≥n\n- Login/Logout con JWT\n- Registro de usuarios administradores\n- Protecci√≥n de rutas con guards\n- Manejo de sesiones con expiraci√≥n autom√°tica\n\n### üë• Gesti√≥n de Empleados\n- CRUD completo de empleados\n- Filtros por estado (activo/inactivo)\n- B√∫squeda por nombre, apellidos o email\n- Eliminaci√≥n soft y hard\n- Restauraci√≥n de empleados\n\n### üíº Gesti√≥n de Puestos\n- CRUD de puestos laborales\n- Asignaci√≥n de sueldos quincenales\n- Vinculaci√≥n con empleados\n\n### üí∞ Conceptos de N√≥mina\n- Gesti√≥n de percepciones y deducciones\n- Configuraci√≥n de montos y porcentajes\n- Filtros por tipo de concepto\n\n### üìä Dashboard y Reportes\n- Estad√≠sticas en tiempo real\n- Gr√°ficos de empleados por puesto\n- Exportaci√≥n a Excel y PDF\n- Reporte de plantilla activa\n\n### üè¢ Gesti√≥n por Regiones\n- Filtrado autom√°tico por regi√≥n del usuario\n- Estado persistente en localStorage\n- Expiraci√≥n de sesi√≥n configurable (10 minutos)\n\n## Tecnolog√≠as Utilizadas\n\n- **Angular 19** - Framework principal\n- **Bootstrap 5** - Dise√±o y componentes UI\n- **Font Awesome** - Iconograf√≠a\n- **RxJS** - Programaci√≥n reactiva\n- **XLSX** - Exportaci√≥n a Excel\n- **TypeScript** - Lenguaje de programaci√≥n\n\n## Instalaci√≥n y Configuraci√≥n\n\n### Prerrequisitos\n- Node.js 18+\n- Angular CLI 19+\n- Backend del sistema ejecut√°ndose en puerto 4000\n\n### Pasos de Instalaci√≥n\n\n1. **Instalar dependencias:**\n   ```bash\n   cd frontend-nomina\n   npm install --legacy-peer-deps\n   ```\n\n2. **Configurar variables de entorno:**\n   - El backend debe estar ejecut√°ndose en `http://localhost:4000`\n   - Verificar que CORS est√© habilitado en el backend\n\n3. **Ejecutar en modo desarrollo:**\n   ```bash\n   npm start\n   # o\n   ng serve\n   ```\n\n4. **Acceder a la aplicaci√≥n:**\n   - URL: `http://localhost:4200`\n   - Crear una cuenta de administrador en `/signup`\n   - Iniciar sesi√≥n en `/login`\n\n## Estructura del Proyecto\n\n```\nsrc/app/\n‚îú‚îÄ‚îÄ components/          # Componentes de la aplicaci√≥n\n‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Login y registro\n‚îÇ   ‚îú‚îÄ‚îÄ dashboard/      # Panel principal\n‚îÇ   ‚îú‚îÄ‚îÄ empleados/      # Gesti√≥n de empleados\n‚îÇ   ‚îú‚îÄ‚îÄ puestos/        # Gesti√≥n de puestos\n‚îÇ   ‚îú‚îÄ‚îÄ conceptos/      # Conceptos de n√≥mina\n‚îÇ   ‚îú‚îÄ‚îÄ reportes/       # Reportes y exportaciones\n‚îÇ   ‚îî‚îÄ‚îÄ shared/         # Componentes compartidos\n‚îú‚îÄ‚îÄ services/           # Servicios de la aplicaci√≥n\n‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts # Autenticaci√≥n\n‚îÇ   ‚îú‚îÄ‚îÄ empleado.service.ts # API de empleados\n‚îÇ   ‚îú‚îÄ‚îÄ state.service.ts # Manejo de estado\n‚îÇ   ‚îî‚îÄ‚îÄ auth.interceptor.ts # Interceptor JWT\n‚îú‚îÄ‚îÄ guards/             # Guards de protecci√≥n\n‚îú‚îÄ‚îÄ models/             # Interfaces y tipos\n‚îî‚îÄ‚îÄ app.routes.ts       # Configuraci√≥n de rutas\n```\n\n## Funcionalidades por M√≥dulo\n\n### Autenticaci√≥n\n- **Login:** Validaci√≥n de credenciales y obtenci√≥n de JWT\n- **Signup:** Registro de nuevos administradores\n- **Logout:** Limpieza de sesi√≥n y redirecci√≥n\n\n### Dashboard\n- Estad√≠sticas de empleados activos\n- Total de puestos disponibles\n- C√°lculo de n√≥mina total\n- Empleados recientes\n- Distribuci√≥n por puestos\n\n### Empleados\n- Formulario completo con validaciones\n- Tabla con filtros y b√∫squeda\n- Asignaci√≥n de puestos\n- Estados: activo/inactivo\n- Operaciones CRUD completas\n\n### Puestos\n- Creaci√≥n y edici√≥n de puestos\n- Configuraci√≥n de sueldos\n- Vinculaci√≥n con empleados\n\n### Conceptos\n- Gesti√≥n de percepciones y deducciones\n- Configuraci√≥n de montos fijos o porcentajes\n- Filtros por tipo\n\n### Reportes\n- Vista previa de datos\n- Exportaci√≥n a Excel (XLSX)\n- Exportaci√≥n a PDF (impresi√≥n)\n- Estad√≠sticas resumidas\n\n## Seguridad Implementada\n\n- **JWT Authentication:** Tokens con expiraci√≥n de 1 hora\n- **Route Guards:** Protecci√≥n de rutas privadas\n- **HTTP Interceptors:** Inyecci√≥n autom√°tica de tokens\n- **Session Management:** Limpieza autom√°tica al expirar\n- **Input Validation:** Validaciones en formularios\n- **CORS Protection:** Configurado en el backend\n\n## Responsive Design\n\n- **Mobile First:** Dise√±o adaptable a dispositivos m√≥viles\n- **Bootstrap Grid:** Sistema de columnas responsivo\n- **Sidebar Collapsible:** Navegaci√≥n optimizada para m√≥viles\n- **Tables Responsive:** Tablas con scroll horizontal en m√≥viles\n\n## Scripts Disponibles\n\n```bash\n# Desarrollo\nnpm start                 # Servidor de desarrollo\nnpm run build            # Build de producci√≥n\nnpm run watch            # Build con watch mode\nnpm test                 # Ejecutar tests\n\n# Angular CLI\nng serve                 # Servidor de desarrollo\nng build                 # Build del proyecto\nng test                  # Ejecutar tests unitarios\nng lint                  # Linter de c√≥digo\n```\n\n## Configuraci√≥n de Producci√≥n\n\n1. **Build de producci√≥n:**\n   ```bash\n   ng build --configuration production\n   ```\n\n2. **Variables de entorno:**\n   - Crear `environment.prod.ts` con la URL del backend de producci√≥n\n   - Configurar HTTPS si es necesario\n\n3. **Despliegue:**\n   - Los archivos generados est√°n en `dist/frontend-nomina/`\n   - Servir con un servidor web (nginx, Apache, etc.)\n\n## Troubleshooting\n\n### Problemas Comunes\n\n1. **Error de CORS:**\n   - Verificar que el backend tenga CORS habilitado\n   - Comprobar que la URL del backend sea correcta\n\n2. **Token expirado:**\n   - El sistema redirige autom√°ticamente al login\n   - Verificar configuraci√≥n de expiraci√≥n en el backend\n\n3. **Dependencias:**\n   - Usar `--legacy-peer-deps` si hay conflictos de versiones\n   - Verificar compatibilidad de Angular 19\n\n4. **Exportaciones no funcionan:**\n   - Verificar que las librer√≠as XLSX est√©n instaladas\n   - Comprobar permisos del navegador para descargas\n\n## Pr√≥ximas Mejoras\n\n- [ ] Implementaci√≥n de NgRx para estado global\n- [ ] Tests unitarios y e2e\n- [ ] PWA (Progressive Web App)\n- [ ] Notificaciones push\n- [ ] Modo offline\n- [ ] Internacionalizaci√≥n (i18n)\n- [ ] Tema oscuro\n- [ ] Gr√°ficos avanzados con Chart.js\n\n## Soporte\n\nPara reportar bugs o solicitar nuevas funcionalidades, crear un issue en el repositorio del proyecto."